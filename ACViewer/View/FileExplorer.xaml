<UserControl x:Class="ACViewer.View.FileExplorer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:ACViewer.View"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <!-- Dynamic / resizable layout -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="25"/>
            <RowDefinition Height="26"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" MinWidth="140"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="3*" MinWidth="160"/>
        </Grid.ColumnDefinitions>

        <!-- Header + selector -->
        <Label Content="File Type" Grid.ColumnSpan="3"/>
        <ComboBox Name="FileType" Width="174" ItemsSource="{Binding FileTypes}" Grid.Row="1"  Grid.ColumnSpan="3" Margin="7.5,0,0,0" SelectionChanged="FileType_SelectionChanged" HorizontalAlignment="Left"/>

        <!-- Left side: file id list + file info stacked -->
        <Grid Grid.Row="2" Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="1.2*"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <ListBox Name="Files" Margin="7.5,7.5,0,0" ItemsSource="{Binding FileIDs}" Grid.Row="0" SelectionChanged="Files_SelectionChanged"/>
            <GridSplitter Grid.Row="1" Height="5" HorizontalAlignment="Stretch" Background="#333" />
            <Border Grid.Row="2" Margin="7.5,0,0,0" BorderBrush="#444" BorderThickness="1">
                <local:FileInfo />
            </Border>
        </Grid>

        <!-- Vertical splitter between left and right -->
        <GridSplitter Grid.Row="2" Grid.Column="1" Width="5" HorizontalAlignment="Stretch" Background="#333" ResizeBehavior="PreviousAndNext" />

        <!-- Right composite panel hosts context-specific lists (motion / script / clothing) -->
        <Grid Grid.Row="2" Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <TabControl Margin="4" x:Name="RightContextTabs">
                <TabItem Header="Motion" x:Name="TabMotion">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                        <local:MotionList />
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Scripts" x:Name="TabScripts">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                        <local:ScriptList />
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Clothing" x:Name="TabClothing">
                    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                        <local:ClothingTableList />
                    </ScrollViewer>
                </TabItem>
            </TabControl>
        </Grid>
    </Grid>
</UserControl>
