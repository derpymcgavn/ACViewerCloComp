<Window x:Class="ACViewer.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ACViewer.View"
        xmlns:scenes="clr-namespace:ACViewer"
        xmlns:ad="clr-namespace:AvalonDock;assembly=AvalonDock"
        xmlns:adLayout="clr-namespace:AvalonDock.Layout;assembly=AvalonDock"
        d:DataContext="{d:DesignInstance Type=local:MainWindow}"
        mc:Ignorable="d"
        Title="ACViewer" Width="1400" Height="860" Style="{DynamicResource CustomWindowStyle}" SourceInitialized="Window_SourceInitialized" Closing="Window_Closing">

    <DockPanel>
        <!-- Main menu at top -->
        <local:MainMenu x:Name="menuMain" DockPanel.Dock="Top" />

        <ad:DockingManager x:Name="DockManager">
            <ad:DockingManager.Layout>
                <adLayout:LayoutRoot>
                    <adLayout:LayoutPanel Orientation="Horizontal">
                        <!-- Explorer Pane -->
                        <adLayout:LayoutAnchorablePane DockWidth="320">
                            <adLayout:LayoutAnchorable Title="Explorer" ContentId="Explorer" CanClose="False">
                                <local:FileExplorer />
                            </adLayout:LayoutAnchorable>
                        </adLayout:LayoutAnchorablePane>

                        <!-- Center Documents -->
                        <adLayout:LayoutDocumentPane>
                            <adLayout:LayoutDocument Title="World" ContentId="Render" CanClose="False">
                                <scenes:GameView x:Name="Scene" />
                            </adLayout:LayoutDocument>
                        </adLayout:LayoutDocumentPane>

                        <!-- Output Pane -->
                        <adLayout:LayoutAnchorablePane DockWidth="360">
                            <adLayout:LayoutAnchorable Title="Output" ContentId="Output" CanClose="False" CanHide="True">
                                <TextBox x:Name="Status" TextWrapping="Wrap" Padding="4" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" IsReadOnly="True" />
                            </adLayout:LayoutAnchorable>
                        </adLayout:LayoutAnchorablePane>
                    </adLayout:LayoutPanel>
                </adLayout:LayoutRoot>
            </ad:DockingManager.Layout>
        </ad:DockingManager>
    </DockPanel>

    <Window.InputBindings>
        <KeyBinding Command="{Binding FindCommand}" Gesture="Ctrl+F" />
        <KeyBinding Command="{Binding TeleportCommand}" Gesture="Ctrl+T" />
        <KeyBinding Command="{Binding HistoryCommand}" Gesture="Backspace" />
        <KeyBinding Command="{Binding DebugCommand}" Gesture="Ctrl+D" />
    </Window.InputBindings>
</Window>
